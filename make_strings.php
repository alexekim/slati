<?php

$slati_shapes = Array(
	'<area shape="rect" coords="422,174,455,195" href="state-teml.asp?id=51">',
	'<area shape="rect" coords="418,160,454,173" href="state-teml.asp?id=20">',
	'<area shape="rect" coords="418,144,456,160" href="state-teml.asp?id=8">',
	'<area shape="rect" coords="424,127,454,144" href="state-teml.asp?id=30">',
	'<area shape="rect" coords="425,111,454,127" href="state-teml.asp?id=7">',
	'<area shape="rect" coords="420,95,454,111" href="state-teml.asp?id=39">',
	'<area shape="rect" coords="425,77,454,95" href="state-teml.asp?id=21">',
	'<area shape="poly" coords="394,90,410,79,420,87,402,100" href="state-teml.asp?id=29">',
	'<area shape="poly" coords="386,71,398,68,409,79,390,89" href="state-teml.asp?id=45">',
	'<area shape="poly" coords="404,67,416,82,434,65,412,38" href="state-teml.asp?id=19">',
	'<area shape="poly" coords="353,117,382,112,396,121,391,102,384,81,362,90" href="state-teml.asp?id=32">',
	'<area shape="poly" coords="352,137,385,134,388,124,381,114,349,121" href="state-teml.asp?id=38">',
	'<area shape="poly" coords="338,160,347,142,366,146,355,158,342,170" href="state-teml.asp?id=48">',
	'<area shape="poly" coords="316,145,326,129" href="#">',
	'<area shape="poly" coords="344,175,393,165,384,149,374,144" href="state-teml.asp?id=46">',
	'<area shape="poly" coords="298,124,326,120,329,100,307,85,298,97" href="state-teml.asp?id=22">',
	'<area shape="poly" coords="320,154,334,155,347,139,345,120,330,128,317,131" href="state-teml.asp?id=35">',
	'<area shape="poly" coords="297,167,316,155,309,129,297,133" href="state-teml.asp?id=14">',
	'<area shape="poly" coords="295,178,298,172,319,159,337,168,328,179" href="state-teml.asp?id=17">',
	'<area shape="poly" coords="368,195" href="#">',
	'<area shape="poly" coords="334,193,349,177,384,171,397,179,381,188" href="state-teml.asp?id=33">',
	'<area shape="poly" coords="311,182,325,166" href="#">',
	'<area shape="poly" coords="281,198,291,185,338,179,324,195" href="state-teml.asp?id=42">',
	'<area shape="poly" coords="337,195,349,191,362,192,374,201,359,216" href="state-teml.asp?id=40">',
	'<area shape="poly" coords="311,245,361,242,391,282,373,296" href="state-teml.asp?id=9">',
	'<area shape="poly" coords="330,238,351,238,357,220,332,198,318,201" href="state-teml.asp?id=10">',
	'<area shape="poly" coords="298,203,312,202,323,240,296,241" href="state-teml.asp?id=1">',
	'<area shape="poly" coords="273,244,294,249,292,204,282,205,272,218" href="state-teml.asp?id=24">',
	'<area shape="poly" coords="277,127,291,130,294,156,287,179,273,161,268,146" href="state-teml.asp?id=13">',
	'<area shape="poly" coords="264,81,289,99,289,122,270,120,257,94" href="state-teml.asp?id=49">',
	'<area shape="poly" coords="249,227,265,227,265,244,277,247,287,258,265,265,250,259" href="state-teml.asp?id=18">',
	'<area shape="poly" coords="246,188,275,189,267,222,247,222" href="state-teml.asp?id=4">',
	'<area shape="poly" coords="239,147,261,147,280,184,240,185" href="state-teml.asp?id=25">',
	'<area shape="poly" coords="230,114,259,115,268,127,261,141,234,141,230,127" href="state-teml.asp?id=15">',
	'<area shape="poly" coords="223,60,261,66,250,84,247,98,256,111,226,113" href="state-teml.asp?id=23">',
	'<area shape="poly" coords="143,232,170,235,178,206,190,207,209,217,232,217,240,232,243,255,219,295,178,273,148,255" href="state-teml.asp?id=43">',
	'<area shape="poly" coords="183,185,182,189,198,190,200,208,233,215,241,208,236,193,236,185" href="state-teml.asp?id=36">',
	'<area shape="poly" coords="190,153,233,154,238,180,187,178" href="state-teml.asp?id=16">',
	'<area shape="poly" coords="181,123,221,126,233,147,190,147,180,134" href="state-teml.asp?id=27">',
	'<area shape="poly" coords="175,92,221,94,223,123,205,120,169,117" href="state-teml.asp?id=41">',
	'<area shape="poly" coords="177,58,217,58,220,89,175,87" href="state-teml.asp?id=34">',
	'<area shape="poly" coords="123,181,167,184,167,229,118,230" href="state-teml.asp?id=31">',
	'<area shape="poly" coords="127,139,179,142,177,178,121,174" href="state-teml.asp?id=6">',
	'<area shape="poly" coords="115,98,166,101,163,136,113,133" href="state-teml.asp?id=50">',
	'<area shape="poly" coords="87,333,126,265,182,288,186,322,222,341,233,355,200,364,113,349" href="state-teml.asp?id=2">',
	'<area shape="poly" coords="13,237,18,269,70,296,96,270,56,243" href="state-teml.asp?id=11">',
	'<area shape="poly" coords="98,88,159,95,165,59,89,51" href="state-teml.asp?id=26">',
	'<area shape="poly" coords="106,123,68,115,82,52" href="state-teml.asp?id=12">',
	'<area shape="poly" coords="83,169,117,175,122,140,109,139,108,130,93,127" href="state-teml.asp?id=44">',
	'<area shape="poly" coords="71,216,109,237,115,182,80,175" href="state-teml.asp?id=3">',
	'<area shape="poly" coords="72,178,84,127,49,117,42,143" href="state-teml.asp?id=28">',
	'<area shape="poly" coords="16,110,41,114,36,141,69,197,62,209,39,209,20,181,9,122" href="state-teml.asp?id=5">',
	'<area shape="poly" coords="69,79,31,70,16,98,60,109" href="state-teml.asp?id=37">',
    '<area shape="poly" coords="71,73,78,45,46,36,32,39,32,57,43,68" href="state-teml.asp?id=47">'
);

$slati_state_ids = Array(
	'47' => 'wa',
	'37' => 'or',
	'5' => 'ca',
	'11' => 'hi',
	'12' => 'id',
	'28' => 'nv',
	'26' => 'mt',
	'50' => 'wy',
	'44' => 'ut',
	'3' => 'az',
	'34' => 'nd',
	'41' => 'sd',
	'6' => 'co',
	'31' => 'nm',
	'2' => 'ak',
	'27' => 'ne',
	'16' => 'ks',
	'36' => 'ok',
	'43' => 'tx',
	'23' => 'mn',
	'15' => 'ia',
	'25' => 'mo',
	'4' => 'ar',
	'18' => 'la',
	'49' => 'wi',
	'13' => 'il',
	'22' => 'mi',
	'14' => 'in',
	'35' => 'oh',
	'38' => 'pa',
	'32' => 'ny',
	'45' => 'vt',
	'29' => 'nh',
	'19' => 'me',
	'21' => 'ma',
	'39' => 'ri',
	'7' => 'ct',
	'30' => 'nj',
	'8' => 'de',
	'20' => 'md',
	'51' => 'dc',
	'17' => 'ky',
	'48' => 'wv',
	'46' => 'va',
	'42' => 'tn',
	'33' => 'nc',
	'24' => 'ms',
	'1' => 'al',
	'10' => 'ga',
	'40' => 'sc',
	'33' => 'nc',
	'9' => 'fl'
);

$tc_state_ids = Array(
	'wa' => '53',
	'or' => '41',
	'nv' => '32',
	'id' => '16',
	'ca' => '06',
	'wy' => '56',
	'mt' => '30',
	'nd' => '38',
	'mn' => '27',
	'sd' => '46',
	'ut' => '49',
	'co' => '08',
	'nm' => '35',
	'az' => '04',
	'ne' => '31',
	'ks' => '20',
	'ok' => '40',
	'ia' => '19',
	'tx' => '48',
	'mo' => '29',
	'ar' => '05',
	'wi' => '55',
	'il' => '17',
	'la' => '22',
	'mi' => '26',
	'mi' => '26',
	'in' => '18',
	'oh' => '39',
	'ms' => '28',
	'ky' => '21',
	'tn' => '47',
	'al' => '01',
	'ga' => '13',
	'va' => '51',
	'pa' => '42',
	'wv' => '54',
	'nc' => '37',
	'sc' => '45',
	'vt' => '50',
	'nh' => '33',
	'me' => '23',
	'ma' => '25',
	'ct' => '09',
	'nj' => '34',
	'de' => '10',
	'ny' => '36',
	'dc' => '11',
	'ri' => '44',
	'md' => '24',
	'md' => '24',
	'fl' => '12',
	'hi' => '15',
	'ak' => '02',
); 

foreach($slati_shapes as $line){
    preg_match('/id=([^#"]*)/', $line, $matches);
    if(array_key_exists(1, $matches)){
        $first = '/'.$matches[0].'/';
        $abbrev = $slati_state_ids[$matches[1]];
        $second = 'id='.$tc_state_ids[$abbrev];
        $line = preg_replace($first, $second, $line)."<!-- $abbrev -->";
    }
    print $line."\n";
}
